---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const allPosts = await getCollection('blog');
const tags = [...new Set(allPosts.map((post) => post.data.tags).flat())];
---

<BaseLayout title="Tags" description="Browse by topic">
  <section class="max-w-4xl mx-auto text-center mt-12">
    <h1 class="text-4xl font-serif font-bold text-stone-900 dark:text-stone-100 mb-8 transition-colors">
      Topics
    </h1>
    
    <div class="flex flex-wrap justify-center gap-4">
      {tags.map((tag) => (
        <a 
          href={`/tags/${tag}`} 
          class="px-4 py-2 text-lg font-serif border border-stone-300 dark:border-stone-600 rounded-md text-stone-600 dark:text-stone-300 hover:border-blue-600 hover:text-blue-600 dark:hover:text-blue-400 dark:hover:border-blue-400 transition-all bg-white dark:bg-stone-800"
        >
          #{tag}
        </a>
      ))}
    </div>
  </section>
</BaseLayout>