---
import BaseLayout from '../layouts/BaseLayout.astro';
---

<BaseLayout title="Welcome" description="Subscription Confirmed">
  
  <Fragment slot="head">
    <meta name="robots" content="noindex, nofollow" />
    <style>
      #secret-content { display: none; }
    </style>
  </Fragment>

  <script is:inline>
    // The "Secret Handshake"
    const urlParams = new URLSearchParams(window.location.search);
    const secret = urlParams.get('v'); // We will look for ?v=...

    if (secret === 'confirmed') {
      // If key matches, show the content
      document.addEventListener('DOMContentLoaded', () => {
        const content = document.getElementById('secret-content');
        if (content) content.style.display = 'block';
      });
    } else {
      // If key is missing/wrong, pretend this page doesn't exist
      window.location.href = '/404'; 
    }
  </script>

  <div id="secret-content" class="min-h-[60vh] flex flex-col items-center justify-center text-center px-6 fade-in">
    
    <div class="w-20 h-20 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mb-8 mx-auto">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-10 h-10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="20 6 9 17 4 12"></polyline>
      </svg>
    </div>

    <h1 class="font-serif text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6">
      Subscription Active
    </h1>

    <p class="text-xl text-slate-600 dark:text-slate-300 max-w-lg mx-auto leading-relaxed">
      Welcome to the inner circle. <br/>
      Your first analysis will arrive shortly.
    </p>

    <a href="/" class="mt-12 inline-block text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors border-b border-transparent hover:border-slate-300 text-sm">
      ‚Üê Return to Homepage
    </a>

  </div>
</BaseLayout>