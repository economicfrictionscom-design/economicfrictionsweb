---
// src/layouts/BlogPost.astro
import '../styles/global.css';

const { frontmatter } = Astro.props;
// This line prevents the "undefined" crash you saw earlier
const title = frontmatter?.title || Astro.props.title;
const pubDate = frontmatter?.pubDate || Astro.props.pubDate;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
  </head>
  <body>
    <header style="padding: 20px 0; border-bottom: 1px solid #eee;">
      <div class="container">
        <h3 style="margin: 0;">Economic Frictions</h3>
      </div>
    </header>

    <main class="container" style="padding-top: 40px;">
      <h1>{title}</h1>
      <p style="color: #666;">{pubDate}</p>
      <hr style="border: 0; border-top: 1px solid #eee; margin: 2rem 0;" />
      
      <slot />
    </main>

    <div style="position: fixed; bottom: 20px; right: 20px; background: white; padding: 20px; border: 1px solid #ddd; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-radius: 8px; z-index: 100;">
       <strong>Subscribe</strong>
       <br/>
       <input type="email" placeholder="Email" style="margin-top: 10px; padding: 5px;" />
    </div>
  </body>
</html>